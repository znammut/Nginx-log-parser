log_parser:
  # Регулярные выражения для различных форматов логов nginx
  log_formats:
    combined: '^(?P<remote_addr>\S+) - (?P<remote_user>\S+) \[(?P<time_local>[\w:/]+\s[+\-]\d{4})\] "(?P<request>(?P<method>\w+)\s+(?P<path>[^\s?]+)[^"]*)" (?P<status>\d+) (?P<body_bytes_sent>\d+)'
    main: '^(?P<remote_addr>\S+) - (?P<remote_user>\S+) \[(?P<time_local>[\w:/]+\s[+\-]\d{4})\] "(?P<request>[^"]*)" (?P<status>\d+)'
    custom: '^(?P<remote_addr>\S+) - (?P<remote_user>\S+) \[(?P<time_local>[\w:/]+\s[+\-]\d{4})\] "(?P<method>\w+)\s+(?P<path>[^\s?]+)[^"]*"\s+(?P<status>\d+)'

  # Настройки парсера
  settings:
    max_workers: 4  # Количество потоков
    chunk_size: 1000  # Размер чанка для обработки
    max_path_depth: 4  # Максимальная глубина пути
    default_log_format: "combined"  # Формат лога по умолчанию
    encoding: "utf-8"  # Кодировка файла

  # Игнорируемые пути (не будут учитываться в статистике)
  ignore_paths:
    - "/health"
    - "/favicon.ico"
    - "/robots.txt"
